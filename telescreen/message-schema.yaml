# JSON Schema <http://json-schema.org/>
#
# Describes for the messages exchanged between Telescreen and Indoktrinator.
#
---
oneOf:
  # plan
  - type: object
    additionalProperties: false
    required: [id, type, plan]
    properties:
      id: {type: string}
      type: {enum: [plan]}
      plan:
        type: array
        items:
          type: object
          additionalProperties: false
          required: [start, end, type, uri]
          properties:
            start: {type: number}
            end: {type: number}
            type: &TYPE {enum: [image, video, audiovideo]}
            uri: &URL {type: string, pattern: '://'}

  # resolution
  - type: object
    additionalProperties: false
    required: [id, type, resolution]
    properties:
      id: {type: string}
      type: {enum: [resolution]}
      resolution:
        type: object
        additionalProperties: false
        required: [type]
        properties:
          type: {enum: [full, right, both]}
          urlRight: *URL
          urlBottom: *URL

# EOF
